# Segmentation Pipeline Configuration

# Model settings
models:
  # Qwen3-VL for text parsing and entity extraction
  text_parser:
    model_name: "Qwen/Qwen3-VL-8B-Instruct"
    dtype: "bfloat16"
    device_map: "auto"
  
  # SAM3 for segmentation
  segmentation:
    model_name: "facebook/sam3"
    dtype: "bfloat16"
    device: "cuda"

# Segmentation thresholds
segmentation:
  threshold: 0.7
  mask_threshold: 0.5

# Entity filtering - exclude non-physical/abstract concepts
entity_filter:
  excluded_terms:
    # Lighting/shadows (not segmentable)
    - "realistic shadows"
    - "shadows"
    - "shadow"
    - "natural light"
    - "light"
    - "lighting"
    - "sunlight"
    - "ambient light"
    - "overhead light"
    - "soft light"
    - "warm light"
    - "dramatic lighting"
    # Structural/environmental elements (not distinct objects)
    - "wall"
    - "walls"
    - "ceiling"
    - "floor"
    - "ground"
    - "road"
    - "sky"
    - "room"
    - "space"
    - "air"
    # Abstract/style terms
    - "atmosphere"
    - "mood"
    - "style"
    - "aesthetic"
    - "vibe"
    - "tone"
    # Non-physical descriptions
    - "reflection"
    - "reflections"
    - "bokeh"
    - "depth of field"
    - "blur"
    - "contrast"
    - "saturation"
    # Scene descriptors (not objects)
    - "scene"
    - "setting"
    - "environment"
    - "background"
    - "foreground"
    - "composition"

# Output settings
output:
  box_format: "xyxy"
  coordinate_unit: "pixels"
  save_visualizations: true
  visualization_dir: "outputs/visualizations"

# Device settings
device:
  cuda_device: 0
  use_flash_attention: true
